<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>&lt;h1&gt;Build from source&lt;/h1&gt;</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><h1>Build from source</h1>
</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The versions 11.x uses a Geant4 10.x.</p>
<p>You have first to install such version of Geant4.</p>
<p>IMPORTANT : if building from a git clone of </p><pre class="fragment">     https://github.com/gbarrand/MEMPHYS_vis.git
</pre><p> before building you have to bring the file : g4ndl_4_5.zip from one of the release and deposit it under : </p><pre class="fragment">     MEMPHYS_vis/MEMPHYS_vis/comres
</pre><p> It appears that this file exceeds the 100 Mbytes limit of github and can't go in the repository, but is definitely needed to run the app and have to go also in the built distribution zip file. Then be sure to have it in comres before building.</p>
<p>If picking a MEMPHYS_vis-&lt;version&gt;.zip : </p><pre class="fragment">    UNIX&gt; &lt;unzip MEMPHYS source distribution file&gt;
</pre><p> then : </p><pre class="fragment">    UNIX&gt; cd &lt;install_path&gt;/MEMPHYS_vis/MEMPHYS_vis/mgr
 (UNIX here is for Linux, macOS or Windows-10/cygwin).

      sh&gt; . &lt;geant4_install_dir&gt;/bin/geant4.sh
   ( csh&gt; source &lt;geant4_install_dir&gt;/bin/geant4.csh )
    UNIX&gt; geant4-config  # to test that this program is here.

   Linux&gt; &lt;if needed source setup a gcc_[version].[sh,csh] file to have the correct g++&gt;
   ( csh&gt; source gcc_493.csh # on Lund iridium )
    UNIX&gt; ./build -sys_geant4     # -sys_geant4 to use the geant4 pointed by geant4-config.
  ( UNIX&gt; ./build -sys_geant4 -v  # to see built files.)
  ( UNIX&gt; ./build -sys_geant4 -x  # for a full trace.)

  Darwin&gt; ./build -sys_geant4 -x11 -bin_x11 # to build the X11 version on macOS.
</pre><p>At end, you should have a distribution file : </p><pre class="fragment">    bin_&lt;config&gt;/distrib/MEMPHYS_vis-&lt;version&gt;-&lt;platform&gt;.zip
</pre><p>See the Usage section to run from the installation of a distribution.</p>
<p>To run from the build area : </p><pre class="fragment">    UNIX&gt; ./bin_&lt;config&gt;/distrib/MEMPHYS_vis/&lt;version&gt;/bin/MEMPHYS_vis # for Linux/X11, macOS/X11, Windows-10/cygwin versions.
</pre><p> and for the macOS/Cocoa version : </p><pre class="fragment">    UNIX&gt; ./bin_&lt;config&gt;/distrib/MEMPHYS_vis/&lt;version&gt;/bin/MEMPHYS_vis -verbose  # to have Geant4 ouput.
  Darwin&gt; open ./bin_&lt;config&gt;/distrib/MEMPHYS_vis/&lt;version&gt;/MEMPHYS_vis.app
</pre><p>WARNING, WARNING, WARNING, WARNING, WARNING, WARNING, WARNING, WARNING, WARNING :</p>
<p>If running from the build area by having done the "source geant4 setup", be sure that the environment variables : G4NEUTRONHPDATA, G4LEDATA, G4LEVELGAMMADATA, G4ENSDFSTATEDATA, G4SAIDXSDATA points to valid Geant4 data directories. If not, you are going to have crashes at startup. </p>
</div></div><!-- contents -->

</body>
</html>
